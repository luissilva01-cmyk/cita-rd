<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CitaRD - Diagn√≥stico Completo</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;700;800&display=swap');
        
        body {
            font-family: 'Plus Jakarta Sans', sans-serif;
            background: #f8f6f6;
            color: #1b110d;
            margin: 0;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #ec4913;
            text-align: center;
            font-size: 2.5rem;
            margin-bottom: 30px;
        }
        
        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .status-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 15px;
            border-left: 5px solid #ec4913;
        }
        
        .status-card h3 {
            color: #ec4913;
            margin-bottom: 15px;
        }
        
        .test-section {
            background: #e8f5e8;
            padding: 25px;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .test-links {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }
        
        .test-link {
            display: block;
            padding: 15px;
            background: #ec4913;
            color: white;
            text-decoration: none;
            border-radius: 10px;
            text-align: center;
            font-weight: 600;
            transition: all 0.3s ease;
        }
        
        .test-link:hover {
            background: #d63e0f;
            transform: translateY(-2px);
        }
        
        .iframe-test {
            width: 100%;
            height: 400px;
            border: 2px solid #ec4913;
            border-radius: 15px;
            margin: 20px 0;
        }
        
        .warning {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
            border-left: 4px solid #ffc107;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .success {
            background: #d4edda;
            border: 1px solid #c3e6cb;
            border-left: 4px solid #28a745;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .code {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            font-size: 14px;
            overflow-x: auto;
            margin: 10px 0;
        }
        
        .timestamp {
            text-align: center;
            color: #666;
            font-size: 14px;
            margin-top: 20px;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üîß CitaRD - Diagn√≥stico Completo</h1>
        
        <div class="status-grid">
            <div class="status-card">
                <h3>üöÄ Estado del Servidor</h3>
                <div id="server-status">Verificando...</div>
                <div class="code">
                    URL: http://localhost:3000<br>
                    Puerto: 3000<br>
                    Estado: <span id="server-check">‚è≥ Verificando</span>
                </div>
            </div>
            
            <div class="status-card">
                <h3>üìÅ Archivos Implementados</h3>
                <div>‚úÖ Login.tsx - Dise√±o moderno</div>
                <div>‚úÖ Register.tsx - Dise√±o moderno</div>
                <div>‚úÖ App.tsx - Routing configurado</div>
                <div>‚úÖ index.tsx - Entry point correcto</div>
            </div>
            
            <div class="status-card">
                <h3>üé® Caracter√≠sticas del Dise√±o</h3>
                <div>‚úÖ Fondo beige (#f8f6f6)</div>
                <div>‚úÖ Color naranja (#ec4913)</div>
                <div>‚úÖ Plus Jakarta Sans font</div>
                <div>‚úÖ Responsive design</div>
            </div>
            
            <div class="status-card">
                <h3>üîß Posibles Problemas</h3>
                <div>‚ö†Ô∏è Cache del navegador</div>
                <div>‚ö†Ô∏è Hot reload no funcionando</div>
                <div>‚ö†Ô∏è Archivos no compilados</div>
                <div>‚ö†Ô∏è Routing incorrecto</div>
            </div>
        </div>

        <div class="warning">
            <h3>‚ö†Ô∏è PROBLEMA IDENTIFICADO</h3>
            <p><strong>Si las p√°ginas se siguen viendo igual, el problema m√°s probable es el cache del navegador.</strong></p>
            <p>Las p√°ginas modernas est√°n implementadas correctamente, pero el navegador est√° mostrando las versiones cacheadas.</p>
        </div>

        <div class="test-section">
            <h3>üß™ Pruebas de Diagn√≥stico</h3>
            <p>Prueba estos enlaces en orden para identificar el problema:</p>
            
            <div class="test-links">
                <a href="http://localhost:3000/login" class="test-link" target="_blank">
                    üîê Login Normal
                </a>
                <a href="http://localhost:3000/register" class="test-link" target="_blank">
                    üìù Register Normal
                </a>
                <a href="http://localhost:3000/login?cache=bust&t=123456" class="test-link" target="_blank">
                    üîê Login (Cache Buster)
                </a>
                <a href="http://localhost:3000/register?cache=bust&t=123456" class="test-link" target="_blank">
                    üìù Register (Cache Buster)
                </a>
            </div>
        </div>

        <div class="success">
            <h3>‚úÖ SOLUCIONES RECOMENDADAS</h3>
            <ol>
                <li><strong>Ctrl + F5</strong> - Recarga forzada (m√°s efectivo)</li>
                <li><strong>Modo Inc√≥gnito</strong> - Abre en ventana privada</li>
                <li><strong>Limpiar Cache</strong> - Configuraci√≥n del navegador</li>
                <li><strong>F12 ‚Üí Network ‚Üí Disable cache</strong> - Para desarrollo</li>
            </ol>
        </div>

        <div class="test-section">
            <h3>üîç Test de Iframe (Deber√≠a mostrar el nuevo dise√±o)</h3>
            <p>Si este iframe muestra el dise√±o moderno, el problema es definitivamente el cache:</p>
            <iframe src="http://localhost:3000/login" class="iframe-test" id="login-iframe"></iframe>
        </div>

        <div class="code">
            <strong>Verificaci√≥n Manual:</strong><br>
            1. Abre DevTools (F12)<br>
            2. Ve a Network tab<br>
            3. Marca "Disable cache"<br>
            4. Recarga la p√°gina (Ctrl+R)<br>
            5. Verifica que se cargan los archivos .tsx nuevos
        </div>

        <div class="timestamp">
            Generado: <span id="timestamp"></span>
        </div>
    </div>

    <script>
        // Set timestamp
        document.getElementById('timestamp').textContent = new Date().toLocaleString();
        
        // Check server status
        async function checkServer() {
            try {
                const response = await fetch('http://localhost:3000');
                const status = response.ok ? '‚úÖ Activo' : '‚ùå Error';
                document.getElementById('server-check').textContent = status;
                document.getElementById('server-status').innerHTML = `
                    <div style="color: ${response.ok ? 'green' : 'red'}">
                        ${response.ok ? '‚úÖ Servidor funcionando correctamente' : '‚ùå Servidor no responde'}
                    </div>
                    <div>Status: ${response.status}</div>
                    <div>Timestamp: ${new Date().toLocaleTimeString()}</div>
                `;
            } catch (error) {
                document.getElementById('server-check').textContent = '‚ùå No disponible';
                document.getElementById('server-status').innerHTML = `
                    <div style="color: red">‚ùå Error de conexi√≥n</div>
                    <div>Error: ${error.message}</div>
                `;
            }
        }
        
        // Initial check
        checkServer();
        
        // Check every 10 seconds
        setInterval(checkServer, 10000);
        
        // Add cache buster to iframe
        setTimeout(() => {
            const iframe = document.getElementById('login-iframe');
            iframe.src = `http://localhost:3000/login?t=${Date.now()}`;
        }, 2000);
        
        console.log('üîß Diagn√≥stico Completo Cargado');
        console.log('üïê Timestamp:', new Date().toISOString());
        console.log('üîç Verificando estado del servidor...');
    </script>
</body>
</html>