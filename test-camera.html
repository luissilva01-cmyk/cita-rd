<!DOCTYPE html>
<html>
<head>
    <title>Test C√°mara Simple</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; }
        video { width: 100%; max-width: 640px; height: 480px; background: black; border: 2px solid #ccc; }
        button { padding: 10px 20px; margin: 10px; font-size: 16px; }
        .success { background: green; color: white; }
        .error { background: red; color: white; }
    </style>
</head>
<body>
    <h1>üé• Test de C√°mara Simple</h1>
    <p>Esta es una prueba b√°sica para verificar que tu c√°mara funciona.</p>
    
    <video id="video" autoplay muted playsinline></video>
    <br>
    
    <button onclick="startCamera()">üöÄ Iniciar C√°mara</button>
    <button onclick="stopCamera()">‚èπÔ∏è Detener C√°mara</button>
    
    <div id="status"></div>
    <div id="logs"></div>

    <script>
        let stream = null;
        const video = document.getElementById('video');
        const status = document.getElementById('status');
        const logs = document.getElementById('logs');
        
        function log(message) {
            console.log(message);
            logs.innerHTML += '<div>' + message + '</div>';
        }
        
        async function startCamera() {
            try {
                log('üé• Solicitando acceso a c√°mara...');
                status.innerHTML = '<span style="color: orange;">Conectando...</span>';
                
                stream = await navigator.mediaDevices.getUserMedia({ 
                    video: { facingMode: 'user' } 
                });
                
                log('‚úÖ Stream obtenido: ' + stream.active);
                log('üìπ Tracks: ' + stream.getTracks().length);
                
                video.srcObject = stream;
                
                video.onloadedmetadata = () => {
                    log('üìä Video metadata cargada');
                    log('üìê Dimensiones: ' + video.videoWidth + 'x' + video.videoHeight);
                };
                
                video.oncanplay = () => {
                    log('‚ñ∂Ô∏è Video listo para reproducir');
                    status.innerHTML = '<span class="success">‚úÖ FUNCIONANDO</span>';
                };
                
                video.onerror = (error) => {
                    log('‚ùå Error en video: ' + error);
                    status.innerHTML = '<span class="error">‚ùå ERROR</span>';
                };
                
            } catch (error) {
                log('‚ùå Error: ' + error.name + ' - ' + error.message);
                status.innerHTML = '<span class="error">‚ùå ERROR: ' + error.message + '</span>';
            }
        }
        
        function stopCamera() {
            if (stream) {
                stream.getTracks().forEach(track => track.stop());
                video.srcObject = null;
                status.innerHTML = '<span style="color: gray;">Detenido</span>';
                log('‚èπÔ∏è C√°mara detenida');
            }
        }
    </script>
</body>
</html>